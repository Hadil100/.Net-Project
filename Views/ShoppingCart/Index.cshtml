@model MyNewProject.ViewModels.CartViewModel
<style>
    body {
        background-color: #ffe6ff; 
        height: 100vh;
        margin: 0;
    }

    h2 {
        color: #8B008B; 
        font-style: italic;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        background-color: white; 
    }

    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
    }

    th {
        background-color: #8B008B; 
        color: black;
    }

    tbody tr:nth-child(even) {
        background-color: #f2f2f2; 
    }

    tfoot {
        background-color: #8B008B; 
        color: white;
    }

    p {
        color: #8B008B; 
    }

    a {
        color: #8B008B; 
        text-decoration: none;
    }

        a:hover {
            text-decoration: underline; 

    .btn-research {
        background-color: #8B008B; 
        color: white;
        padding: 10px 20px; 
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

        .btn-research:hover {
            background-color: #6a005f; 
        }

</style>

<h2>Your Shopping Cart</h2>

@if (Model.CartItems.Any())
{
    <table class="table">
        <thead>
            <tr>
                <th>ProductImage</th>
                <th>Product</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Total</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.CartItems)
            {
                var photoPath = "~/images/" + (item.ProductPath ?? "noimage.jpg");
                <tr>
                    <td><img src="@Url.Content(photoPath)" width="100" height="100" /></td>
                    <td>@item.ProductName</td>
                    <td>@(item.Price.ToString("C", new System.Globalization.CultureInfo("fr-TN")))</td>
                    <td>@item.Quantity</td>
                    <td>@((item.Price * item.Quantity).ToString("C", new System.Globalization.CultureInfo("fr-TN")))</td>
                    <td>
                        <a asp-action="RemoveFromCart" asp-route-productId="@item.ProductId">Remove</a>
                    </td>
                </tr>
            }
        </tbody>
        <tfoot>
            <tr>
                <td colspan="4">Total:</td> 
                <td colspan="2"> @(Model.TotalPrice.ToString("C", new System.Globalization.CultureInfo("fr-TN")))</td>
            </tr>
        </tfoot>
    </table>
}
else
{
    <p>Your cart is empty.</p>
}

<button class="btn btn-research" onclick="location.href='@Url.Action("Index", "User")'">Continue Shopping</button>
<a class="btn btn-research" asp-action="ClearCart">Clear Cart</a>
<a asp-action="Payment" class="btn btn-research">Pay</a>
