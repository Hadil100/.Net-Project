@model IEnumerable<Product>
@{
    ViewData["Title"] = "Home Page";
}
<link rel="stylesheet" href="~/css/Research.css" asp-append-version="true" />
<style>
    body {
        background-color: #ffe6ff; 
        height: 100vh;
        margin: 0;
    }

    .text-center {
        color: white; 
    }

    .search-container {
        background-color: rgba(255, 255, 255, 0);
        padding: 20px; 
        border-radius: 10px; 
    }

    .product-container {
        background-color: rgba(255, 255, 255, 0.8);
        padding: 20px;
        border-radius: 10px;
        margin-top: 20px;
    }

        .product-container h2 {
            color: #8B008B; 
        }

        .product-container h6 {
            color: #8B008B; 
            text-align: center; 
            font-style: italic; 

        }

    .btn-research {
        background-color: #8B008B; 
        color: white; 
    }
</style>

<div class="text-center">
    <h1 class="display-4" style="font-style: italic; color: #8B008B;">Welcome to FashionFiesta !</h1>
</div>

<form class="search-container" asp-action="Search" asp-controller="Home">
    <div class="d-flex align-items-center">
        <input size="30" placeholder="Search by Category" type="search" name="name" class="mr-2" />
        <select name="CategoryId" class="form-control mr-2">
            <option value="">All Categories</option>
            @if (ViewBag.Categories != null)
            {
                foreach (var category in ViewBag.Categories)
                {
                    <option value="@category.Value">@category.Text</option>
                }
            }
        </select>
        <button class="btn btn-research my-2 my-sm-0" type="submit">Research</button>
    </div>
</form>

<div class="product-container">
    <h2 class="text-center">Have a Look at our Products</h2>
    <h6>If you want to buy a product, you have to create an account first !</h6>

    <div class="card-group">
        @foreach (var product in Model)
        {
            var photoPath = "~/images/" + (product.Image ?? "noimage.jpg");
            <div class="card m-3" style="min-width: 18rem; max-width:30.5%;">
                <div class="card-header">
                    <h5><b> @product.Designation</b> </h5>
                    <h5><b>Price : </b>@product.Price TND</h5>
                    <h5><b>Category : </b> @product.Category.CategoryName</h5>

                </div>
                <img class="card-img-top imageThumbnail" src="@photoPath" asp-append-version="true" />
                <div class="card-footer text-center">
                    <a asp-controller="Account" asp-action="Register" class="btn btn-primary m-1">Buy this Product</a>
                </div>
            </div>
        }
    </div>
</div>
